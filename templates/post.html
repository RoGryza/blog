{% extends "base.html" %}

{% block extra_head %}
  {% for tr in page_translations %}
    <link rel="alternate" hreflang="{{ tr.lang.short }}" href="{% url "post", tr %}" />
    {% if tr.slug == page.canonical_slug -%}
      <link rel="alternate" hreflang="x-default" href="{% url "post", tr %}" />
    {%- endif %}
  {% endfor %}

  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="{{ page.published|date("%Y-%m-%d") }}" />
{% endblock extra_head %}

{% block title %}{{ page.title }} &middot; {{ site_title }}{% endblock %}
{% block description %}{{ page.description }}{% endblock %}

{% block ogtitle %}{{ page.title }} &middot; {{ site_title }}{% endblock ogtitle %}
{% block ogurl %}{% url "post", page %}{% endblock ogurl %}
{% block ogdesc %}{{ page.description }}{% endblock ogdesc %}

{% block content %}
<article>
  <h1>{{ page.title }}</h1>

  <p style="font-size:90%;">
  {{ page.lang.tr_posted_on }} <time datetime="{{ page.published | date(format="%+") }}">
      {{ page.published | localized_date(page.lang) }}
    </time>
  </p>

  <div>
    {% for tr in page_translations %}
    {% if page.lang.pk == tr.lang.pk %}
      {{ tr.lang.short }}
    {% else %}
      <a href="{% url "post", tr %}">{{ tr.lang.short }}</a>
    {% endif %}

    {% if not loop.last %}&middot;{% endif %}
    {% endfor %}
  </div>

  {{ page.content|safe }}
</article>
{% endblock content %}
